import{a as T,b as m,c as L,d as q,e as M,f as j,g as A,h as R,i as k,j as D,k as O,m as G}from"./chunk-LGK4IN4E.js";import{a as H}from"./chunk-AJIAZPWK.js";import{a as B}from"./chunk-EFV24HPR.js";import{d as y,f as N,n as I,o as F,r as U}from"./chunk-K72LVKCT.js";import{a as V}from"./chunk-KF5TR6KZ.js";import{a as z}from"./chunk-ACHIUSDU.js";import{Ba as n,Ca as v,Oa as s,Ra as a,Ua as r,Va as t,Wa as p,aa as x,ab as b,bb as f,ib as o,kb as c,lb as S,ma as w,na as E,nb as C}from"./chunk-KLG2F6FQ.js";function K(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function P(i,l){if(i&1&&(r(0,"p",45),o(1),t()),i&2){let u=f();n(),c(" Minimo ",u.usuario==null||u.usuario.errors==null?null:u.usuario.errors.minlength.requiredLength," caracteres ")}}function Q(i,l){i&1&&(r(0,"p",46),o(1," Campo obligatorio "),t())}function W(i,l){i&1&&(r(0,"p",46),o(1," Debe colocar un email "),t())}function X(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function Y(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function Z(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function $(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function ee(i,l){if(i&1&&(r(0,"p",45),o(1),t()),i&2){let u=f();n(),c(" Minimo ",u.password==null||u.password.errors==null?null:u.password.errors.minlength.requiredLength," caracteres ")}}function te(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function ie(i,l){if(i&1&&(r(0,"p",45),o(1),t()),i&2){let u=f();n(),c(" Minimo ",u.repetir==null||u.repetir.errors==null?null:u.repetir.errors.minlength.requiredLength," caracteres ")}}function re(i,l){i&1&&(r(0,"div",47)(1,"p",48),o(2," A "),t()())}function oe(i,l){i&1&&(r(0,"div",49)(1,"p",50),o(2," E "),t()())}function ne(i,l){if(i&1&&(r(0,"p",51),o(1),t()),i&2){let u=f();n(),c(" ",u.usuarioForm.value.usuario," ")}}function le(i,l){i&1&&(r(0,"p",52),o(1," Nombre de usuario "),t())}function ae(i,l){if(i&1&&(r(0,"p",53),o(1),t()),i&2){let u=f();n(),S(" ",u.usuarioForm.value.nombre.toLowerCase()," ",u.usuarioForm.value.apellido.toLowerCase()," ")}}function ue(i,l){i&1&&(r(0,"p",52),o(1," Apellido y Nombre "),t())}function me(i,l){if(i&1&&(r(0,"p"),o(1),t()),i&2){let u=f();n(),c(" ",u.usuarioForm.value.email.toLowerCase()," ")}}function se(i,l){i&1&&(r(0,"p"),o(1," Correo electr\xF3nico "),t())}var Ee=(()=>{let l=class l{get usuario(){return this.usuarioForm.get("usuario")}get apellido(){return this.usuarioForm.get("apellido")}get nombre(){return this.usuarioForm.get("nombre")}get dni(){return this.usuarioForm.get("dni")}get email(){return this.usuarioForm.get("email")}get password(){return this.usuarioForm.get("password")}get repetir(){return this.usuarioForm.get("repetir")}get role(){return this.usuarioForm.get("role")}constructor(g,d,e,h,_){this.fb=g,this.router=d,this.usuariosService=e,this.alertService=h,this.dataService=_}ngOnInit(){V.from(".gsap-contenido",{y:100,opacity:0,duration:.2}),this.dataService.ubicacionActual="Dashboard - Creando usuario",this.usuarioForm=this.fb.group({usuario:["",[m.required,m.minLength(5)]],apellido:["",m.required],nombre:["",m.required],dni:["",m.required],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(4)]],repetir:["",[m.required,m.minLength(4)]],role:["ADMIN_ROLE",m.required]})}nuevoUsuario(){let{usuario:g,role:d,password:e,repetir:h}=this.usuarioForm.value;if(e!==h){this.alertService.info("Las contrase\xF1as deben coincidir");return}let _=this.usuarioForm.value;delete _.repetir,this.usuarioForm.valid?(this.alertService.loading(),this.usuariosService.nuevoUsuario(this.usuarioForm.value).subscribe({next:()=>{d==="ADMIN_ROLE"?this.router.navigateByUrl("dashboard/usuarios"):this.router.navigateByUrl("dashboard/usuarios/permisos/"+g.id),this.alertService.close()},error:({error:J})=>{this.alertService.errorApi(J.message)}})):this.usuarioForm.markAllAsTouched()}};l.\u0275fac=function(d){return new(d||l)(v(O),v(I),v(H),v(B),v(z))},l.\u0275cmp=x({type:l,selectors:[["app-nuevo-usuario"]],standalone:!0,features:[C],decls:103,vars:20,consts:[[1,"lg:flex","p-4","gsap-contenido","max-w-5xl","mx-auto"],[1,"w-full","lg:w-1/2","bg-white","mr-2","shadow","rounded","border","border-gray-400"],[1,"pb-2",3,"keydown.enter","formGroup"],[1,"flex","items-center","p-2","bg-gray-800","border","border-gray-800","rounded-t"],["routerLink","/dashboard/usuarios",1,"p-2","text-white","hover:text-secondaryColor"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"ml-1","text-xl","text-white"],[1,"px-4","p-2","text-sm"],[1,"flex","flex-col","lg:flex-row"],[1,"w-full","mx-2","flex-1","svelte-1l8159u"],[1,"font-semibold","bold","mt-3","text-gray-600","text-sm"],[1,"text-red-500"],[1,"bg-white","p-1"],["placeholder","Ej. lmoreno","formControlName","usuario",1,"input-generico","w-full"],["class","text-error mt-1",4,"ngIf"],[1,"font-semibold","mt-3","text-gray-600","text-sm"],["type","email","formControlName","email","placeholder","Ej. lucasmoreno@gmail.com",1,"input-generico","w-full"],["class","text-error",4,"ngIf"],["placeholder","Ej. Moreno","formControlName","apellido",1,"input-generico","w-full"],["placeholder","Ej. Lucas","formControlName","nombre",1,"input-generico","w-full"],[1,"w-full","mx-2","flex-1"],["placeholder","Ej. 34060398","formControlName","dni",1,"input-generico","w-full"],[1,"font-semibold","mt-2","text-gray-600","text-sm"],[1,"bg-white","my-2","flex"],["formControlName","role",1,"input-generico","w-full"],["value","USER_ROLE"],["value","ADMIN_ROLE"],["type","password","formControlName","password","autocomplete","false","placeholder","******",1,"input-generico","w-full"],["type","password","formControlName","repetir","autocomplete","false","placeholder","******",1,"input-generico","w-full"],[1,"boton-crear","w-full","mt-3",3,"click"],[1,"w-full","lg:w-1/2","mt-2","lg:mt-0","h-full"],[1,"bg-white","border","shadow","border-gray-400","p-4","rounded"],[1,"flex","mb-2"],["class","bg-blue-100 flex items-center justify-center w-32 h-32 rounded-full shadow border border-blue-300",4,"ngIf"],["class","bg-orange-100 flex items-center justify-center w-32 h-32 rounded-full shadow border border-orange-300",4,"ngIf"],[1,"ml-4","mt-2"],[1,"mt-1"],[1,"text-xl","lg:text-3xl"],["class","font-semibold",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"text-md","lg:text-2xl"],["class","capitalize",4,"ngIf"],[1,"text-xs","lg:text-lg","text-gray-400"],[4,"ngIf"],[1,"text-error","mt-1"],[1,"text-error"],[1,"bg-blue-100","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow","border","border-blue-300"],[1,"text-6xl","font-semibold","text-blue-900"],[1,"bg-orange-100","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow","border","border-orange-300"],[1,"text-6xl","font-semibold","text-orange-500"],[1,"font-semibold"],[1,"text-gray-400"],[1,"capitalize"]],template:function(d,e){d&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),b("keydown.enter",function(_){return _.preventDefault()}),r(3,"div",3)(4,"button",4),w(),r(5,"svg",5),p(6,"path",6),t()(),E(),r(7,"h1",7),o(8," Nuevo usuario "),t()(),r(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"span",12),o(14," * "),t(),o(15," Nombre de usuario "),t(),r(16,"div",13),p(17,"input",14),s(18,K,2,0,"p",15)(19,P,2,1,"p",15),t()(),r(20,"div",10)(21,"div",16)(22,"span",12),o(23," * "),t(),o(24," Email "),t(),r(25,"div",13),p(26,"input",17),t(),s(27,Q,2,0,"p",18)(28,W,2,0,"p",18),t()(),r(29,"div",9)(30,"div",10)(31,"div",16)(32,"span",12),o(33," * "),t(),o(34," Apellido "),t(),r(35,"div",13),p(36,"input",19),s(37,X,2,0,"p",15),t()(),r(38,"div",10)(39,"div",16)(40,"span",12),o(41," * "),t(),o(42," Nombre "),t(),r(43,"div",13),p(44,"input",20),s(45,Y,2,0,"p",15),t()()(),r(46,"div",9)(47,"div",21)(48,"div",16)(49,"span",12),o(50," * "),t(),o(51," DNI "),t(),r(52,"div",13),p(53,"input",22),s(54,Z,2,0,"p",15),t()(),r(55,"div",21)(56,"div",23)(57,"span",12),o(58," * "),t(),o(59," Rol "),t(),r(60,"div",24)(61,"select",25)(62,"option",26),o(63," Usuario estandar "),t(),r(64,"option",27),o(65," Administrador "),t()()()()(),r(66,"div",9)(67,"div",21)(68,"div",23)(69,"span",12),o(70," * "),t(),o(71," Contrase\xF1a "),t(),r(72,"div",13),p(73,"input",28),s(74,$,2,0,"p",15)(75,ee,2,1,"p",15),t()(),r(76,"div",21)(77,"div",23)(78,"span",12),o(79," * "),t(),o(80," Repetir contrase\xF1a "),t(),r(81,"div",13),p(82,"input",29),s(83,te,2,0,"p",15)(84,ie,2,1,"p",15),t()()(),r(85,"button",30),b("click",function(){return e.nuevoUsuario()}),o(86," Crear usuario "),t()()()(),r(87,"div",31)(88,"div",32)(89,"div",33),s(90,re,3,0,"div",34)(91,oe,3,0,"div",35),r(92,"div",36)(93,"div",37)(94,"div",38),s(95,ne,2,1,"p",39)(96,le,2,0,"p",40),t(),r(97,"div",41),s(98,ae,2,2,"p",42)(99,ue,2,0,"p",40),t(),r(100,"div",43),s(101,me,2,1,"p",44)(102,se,2,0,"p",44),t()()()()()()()),d&2&&(n(2),a("formGroup",e.usuarioForm),n(16),a("ngIf",(e.usuario==null?null:e.usuario.touched)&&(e.usuario==null||e.usuario.errors==null?null:e.usuario.errors.required)),n(),a("ngIf",(e.usuario==null?null:e.usuario.touched)&&(e.usuario==null||e.usuario.errors==null?null:e.usuario.errors.minlength)),n(8),a("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null||e.email.errors==null?null:e.email.errors.required)),n(),a("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null||e.email.errors==null?null:e.email.errors.email)),n(9),a("ngIf",(e.apellido==null?null:e.apellido.touched)&&(e.apellido==null||e.apellido.errors==null?null:e.apellido.errors.required)),n(8),a("ngIf",(e.nombre==null?null:e.nombre.touched)&&(e.nombre==null||e.nombre.errors==null?null:e.nombre.errors.required)),n(9),a("ngIf",(e.dni==null?null:e.dni.touched)&&(e.dni==null||e.dni.errors==null?null:e.dni.errors.required)),n(20),a("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null||e.password.errors==null?null:e.password.errors.required)),n(),a("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null||e.password.errors==null?null:e.password.errors.minlength)),n(8),a("ngIf",(e.repetir==null?null:e.repetir.touched)&&(e.repetir==null||e.repetir.errors==null?null:e.repetir.errors.required)),n(),a("ngIf",(e.repetir==null?null:e.repetir.touched)&&(e.repetir==null||e.repetir.errors==null?null:e.repetir.errors.minlength)),n(6),a("ngIf",e.usuarioForm.value.role==="ADMIN_ROLE"),n(),a("ngIf",e.usuarioForm.value.role==="USER_ROLE"),n(4),a("ngIf",e.usuarioForm.value.usuario.trim()!==""),n(),a("ngIf",e.usuarioForm.value.usuario.trim()==""),n(2),a("ngIf",e.usuarioForm.value.nombre.trim()||e.usuarioForm.value.apellido.trim()),n(),a("ngIf",e.usuarioForm.value.nombre.trim()==""&&e.usuarioForm.value.apellido.trim()==""),n(2),a("ngIf",e.usuarioForm.value.email.trim()!==""),n(),a("ngIf",e.usuarioForm.value.email.trim()==""))},dependencies:[U,F,G,M,k,D,T,R,L,q,j,A,N,y],encapsulation:2});let i=l;return i})();export{Ee as default};
