import{a as j,b as s,c as R,d as L,e as k,f as q,g as M,h as D,i as O,j as V,k as G,m as z}from"./chunk-LGK4IN4E.js";import{a as K}from"./chunk-AJIAZPWK.js";import{a as H}from"./chunk-EFV24HPR.js";import{d as I,f as F,l as U,n as N,o as T,r as A}from"./chunk-K72LVKCT.js";import{a as B}from"./chunk-KF5TR6KZ.js";import{a as J}from"./chunk-ACHIUSDU.js";import{Ba as l,Ca as f,Oa as d,Ra as u,Ua as i,Va as e,Wa as c,aa as E,ab as h,bb as v,ib as o,kb as x,lb as C,ma as S,na as w,nb as y}from"./chunk-KLG2F6FQ.js";function W(r,n){r&1&&(i(0,"p",33),o(1," Campo obligatorio "),e())}function X(r,n){if(r&1&&(i(0,"p",33),o(1),e()),r&2){let a=v();l(),x(" Minimo ",a.nombre_usuario==null||a.nombre_usuario.errors==null?null:a.nombre_usuario.errors.minlength.requiredLength," caracteres ")}}function Y(r,n){r&1&&(i(0,"p",34),o(1," Campo obligatorio "),e())}function Z(r,n){r&1&&(i(0,"p",34),o(1," Debe colocar un email "),e())}function $(r,n){r&1&&(i(0,"p",33),o(1," Campo obligatorio "),e())}function ee(r,n){r&1&&(i(0,"p",33),o(1," Campo obligatorio "),e())}function te(r,n){r&1&&(i(0,"p",33),o(1," Campo obligatorio "),e())}function ie(r,n){r&1&&(i(0,"div",46)(1,"p",47),o(2," A "),e()())}function re(r,n){r&1&&(i(0,"div",48)(1,"p",49),o(2," E "),e()())}function oe(r,n){if(r&1&&(i(0,"p",50),o(1),e()),r&2){let a=v(2);l(),x(" ",a.usuarioForm.value.usuario," ")}}function ne(r,n){r&1&&(i(0,"p",51),o(1," Nombre de usuario "),e())}function le(r,n){if(r&1&&(i(0,"p"),o(1),e()),r&2){let a=v(2);l(),C(" ",a.usuarioForm.value.nombre.toLowerCase()," ",a.usuarioForm.value.apellido.toLowerCase()," ")}}function ae(r,n){r&1&&(i(0,"p",51),o(1," Apellido y Nombre "),e())}function ue(r,n){if(r&1&&(i(0,"p"),o(1),e()),r&2){let a=v(2);l(),x(" ",a.usuarioForm.value.email.toLowerCase()," ")}}function me(r,n){r&1&&(i(0,"p"),o(1," Correo electr\xF3nico "),e())}function de(r,n){if(r&1&&(i(0,"div",35),d(1,ie,3,0,"div",36)(2,re,3,0,"div",37),i(3,"div",38)(4,"div",39)(5,"div",40),d(6,oe,2,1,"p",41)(7,ne,2,0,"p",42),e(),i(8,"div",43),d(9,le,2,2,"p",44)(10,ae,2,0,"p",42),e(),i(11,"div",45),d(12,ue,2,1,"p",44)(13,me,2,0,"p",44),e()()()()),r&2){let a=v();l(),u("ngIf",a.usuarioForm.value.role==="ADMIN_ROLE"),l(),u("ngIf",a.usuarioForm.value.role==="USER_ROLE"),l(4),u("ngIf",a.usuarioForm.value.usuario.trim()!==""),l(),u("ngIf",a.usuarioForm.value.usuario.trim()==""),l(2),u("ngIf",a.usuarioForm.value.nombre.trim()||a.usuarioForm.value.apellido.trim()),l(),u("ngIf",a.usuarioForm.value.nombre.trim()==""&&a.usuarioForm.value.apellido.trim()==""),l(2),u("ngIf",a.usuarioForm.value.email.trim()!==""),l(),u("ngIf",a.usuarioForm.value.email.trim()=="")}}var Se=(()=>{let n=class n{get nombre_usuario(){return this.usuarioForm.get("usuario")}get apellido(){return this.usuarioForm.get("apellido")}get nombre(){return this.usuarioForm.get("nombre")}get dni(){return this.usuarioForm.get("dni")}get email(){return this.usuarioForm.get("email")}get password(){return this.usuarioForm.get("password")}get repetir(){return this.usuarioForm.get("repetir")}get role(){return this.usuarioForm.get("role")}constructor(m,p,t,g,_,b){this.router=m,this.fb=p,this.activatedRoute=t,this.usuariosService=g,this.alertService=_,this.dataService=b}ngOnInit(){B.from(".gsap-contenido",{y:100,opacity:0,duration:.2}),this.dataService.ubicacionActual="Dashboard - Editando usuario",this.usuarioForm=this.fb.group({usuario:["",[s.required,s.minLength(5)]],apellido:["",s.required],nombre:["",s.required],dni:["",s.required],email:["",[s.required,s.email]],role:["USER_ROLE",[s.required,s.minLength(4)]],activo:["true",s.required]}),this.getUsuario()}getUsuario(){this.alertService.loading(),this.activatedRoute.params.subscribe(({id:m})=>{this.id=m}),this.usuariosService.getUsuario(this.id).subscribe({next:m=>{this.usuario=m;let{usuario:p,apellido:t,nombre:g,dni:_,email:b,role:P,activo:Q}=this.usuario;this.usuarioForm.patchValue({usuario:p,apellido:t,nombre:g,dni:_,email:b,role:P,activo:String(Q)}),this.alertService.close()},error:({error:m})=>this.alertService.errorApi(m.message)})}editarUsuario(){if(this.usuarioForm.valid){let m=this.usuarioForm.value;this.alertService.loading(),this.usuariosService.actualizarUsuario(this.id,m).subscribe({next:()=>{this.alertService.close(),this.router.navigateByUrl("dashboard/usuarios")},error:({error:p})=>this.alertService.errorApi(p.message)})}else this.usuarioForm.markAllAsTouched()}regresar(){this.router.navigateByUrl("/dashboard/usuarios")}};n.\u0275fac=function(p){return new(p||n)(f(N),f(G),f(U),f(K),f(H),f(J))},n.\u0275cmp=E({type:n,selectors:[["app-editar-usuario"]],standalone:!0,features:[y],decls:83,vars:9,consts:[[1,"lg:flex","p-4","max-w-5xl","mx-auto","gsap-contenido"],[1,"w-full","lg:w-1/2","bg-white","mr-2","shadow","rounded","border","border-gray-400"],[1,"flex","items-center","p-2","bg-gray-800","border","border-gray-800","rounded-t"],["routerLink","/dashboard/usuarios",1,"p-2","text-white","hover:text-secondaryColor"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"ml-1","text-xl","text-white"],[1,"px-5","pt-2","text-sm","pb-4",3,"keydown.enter","formGroup"],[1,"flex","flex-col","lg:flex-row"],[1,"w-full","mx-2","flex-1","svelte-1l8159u"],[1,"font-semibold","mt-3","text-gray-600","text-sm"],[1,"text-red-500"],[1,"bg-white","p-1"],["placeholder","Ej. lmoreno","formControlName","usuario",1,"input-generico","w-full"],["class","text-error mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","Ej. lucasmoreno@gmail.com",1,"input-generico","w-full"],["class","text-error mt-2",4,"ngIf"],["placeholder","Ej. Moreno","formControlName","apellido",1,"input-generico","w-full"],["placeholder","Ej. Lucas","formControlName","nombre",1,"input-generico","w-full"],[1,"w-full","mx-2","flex-1"],["placeholder","Ej. 34060398","formControlName","dni",1,"input-generico","w-full"],[1,"font-semibold","mt-2","text-gray-600","text-sm"],[1,"bg-white","flex"],["formControlName","role",1,"input-generico","w-full","mt-2"],["value","USER_ROLE"],["value","ADMIN_ROLE"],["formControlName","activo",1,"input-generico","w-full"],["value","true"],["value","false"],[1,"boton-editar","w-full","mt-4",3,"click"],[1,"mt-2","lg:mt-0","w-full","lg:w-1/2","h-full"],[1,"bg-white","shadow","p-4","rounded","border","border-gray-400"],["class","flex mb-2",4,"ngIf"],[1,"text-error","mt-1"],[1,"text-error","mt-2"],[1,"flex","mb-2"],["class","bg-blue-100 flex items-center justify-center w-32 h-32 rounded-full shadow border border-blue-200",4,"ngIf"],["class","bg-orange-100 flex items-center justify-center w-32 h-32 rounded-full shadow border border-orange-200",4,"ngIf"],[1,"ml-4","mt-2"],[1,"mt-1"],[1,"text-xl","lg:text-3xl"],["class","font-semibold",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"text-md","lg:text-2xl","capitalize"],[4,"ngIf"],[1,"text-xs","lg:text-lg","italic","text-gray-400"],[1,"bg-blue-100","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow","border","border-blue-200"],[1,"text-6xl","font-semibold","text-blue-900"],[1,"bg-orange-100","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow","border","border-orange-200"],[1,"text-6xl","font-semibold","text-orange-500"],[1,"font-semibold"],[1,"text-gray-400"]],template:function(p,t){p&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),S(),i(4,"svg",4),c(5,"path",5),e()(),w(),i(6,"h1",6),o(7," Actualizando usuario "),e()(),i(8,"form",7),h("keydown.enter",function(_){return _.preventDefault()}),i(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),o(13," * "),e(),o(14," Nombre de usuario "),e(),i(15,"div",12),c(16,"input",13),d(17,W,2,0,"p",14)(18,X,2,1,"p",14),e()(),i(19,"div",9)(20,"div",10)(21,"span",11),o(22," * "),e(),o(23," Email "),e(),i(24,"div",12),c(25,"input",15),d(26,Y,2,0,"p",16)(27,Z,2,0,"p",16),e()()(),i(28,"div",8)(29,"div",9)(30,"div",10)(31,"span",11),o(32," * "),e(),o(33," Apellido "),e(),i(34,"div",12),c(35,"input",17),d(36,$,2,0,"p",14),e()(),i(37,"div",9)(38,"div",10)(39,"span",11),o(40," * "),e(),o(41," Nombre "),e(),i(42,"div",12),c(43,"input",18),d(44,ee,2,0,"p",14),e()()(),i(45,"div",8)(46,"div",19)(47,"div",10)(48,"span",11),o(49," * "),e(),o(50," DNI "),e(),i(51,"div",12),c(52,"input",20),d(53,te,2,0,"p",14),e()(),i(54,"div",19)(55,"div",21)(56,"span",11),o(57," * "),e(),o(58," Rol "),e(),i(59,"div",22)(60,"select",23)(61,"option",24),o(62," Usuario estandar "),e(),i(63,"option",25),o(64," Administrador "),e()()()()(),i(65,"div",8)(66,"div",19)(67,"div",10)(68,"span",11),o(69," * "),e(),o(70," Estado "),e(),i(71,"div",22)(72,"select",26)(73,"option",27),o(74," Activo "),e(),i(75,"option",28),o(76," Inactivo "),e()()()(),c(77,"div",19),e(),i(78,"button",29),h("click",function(){return t.editarUsuario()}),o(79," Actualizar usuario "),e()()(),i(80,"div",30)(81,"div",31),d(82,de,14,8,"div",32),e()()()),p&2&&(l(8),u("formGroup",t.usuarioForm),l(9),u("ngIf",(t.nombre_usuario==null?null:t.nombre_usuario.touched)&&(t.nombre_usuario==null||t.nombre_usuario.errors==null?null:t.nombre_usuario.errors.required)),l(),u("ngIf",(t.nombre_usuario==null?null:t.nombre_usuario.touched)&&(t.nombre_usuario==null||t.nombre_usuario.errors==null?null:t.nombre_usuario.errors.minlength)),l(8),u("ngIf",(t.email==null?null:t.email.touched)&&(t.email==null||t.email.errors==null?null:t.email.errors.required)),l(),u("ngIf",(t.email==null?null:t.email.touched)&&(t.email==null||t.email.errors==null?null:t.email.errors.email)),l(9),u("ngIf",(t.apellido==null?null:t.apellido.touched)&&(t.apellido==null||t.apellido.errors==null?null:t.apellido.errors.required)),l(8),u("ngIf",(t.nombre==null?null:t.nombre.touched)&&(t.nombre==null||t.nombre.errors==null?null:t.nombre.errors.required)),l(9),u("ngIf",(t.dni==null?null:t.dni.touched)&&(t.dni==null||t.dni.errors==null?null:t.dni.errors.required)),l(29),u("ngIf",t.usuario))},dependencies:[A,T,z,k,O,V,j,D,R,L,q,M,F,I],encapsulation:2});let r=n;return r})();export{Se as default};
